<FlowDocument PagePadding="5,0,5,0" AllowDrop="True" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"><Paragraph Margin="0,0,0,10.67" FontFamily="Calibri" FontSize="21.3333333333333"><Run FontWeight="Bold" xml:lang="ru-ru">Дело в шляпах:</Run></Paragraph><Paragraph Margin="0,0,0,10.67" FontFamily="Calibri" FontSize="16"><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">Просто аккуратная реализация. При это следите, что если приходит человек с фасоном шляпы </Span><Span Foreground="#FF000000" xml:lang="en-us">x</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">, а перед ним стоит какая-то группа из людей с одинаковым фасоном </Span><Span Foreground="#FF000000" xml:lang="en-us">y</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">, то когда эта группа (с фасоном </Span><Span Foreground="#FF000000" xml:lang="en-us">y</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">) удалится, то может образоваться группа из двух (максимум!) людей с фасоном шляпы </Span><Span Foreground="#FF000000" xml:lang="en-us">x</Span><Span Foreground="#FF000000" xml:lang="ru-ru">.</Span></Paragraph><Paragraph Margin="0,0,0,10.67" FontFamily="Calibri" FontSize="16" /><Paragraph Margin="0,0,0,10.67" FontFamily="Calibri" FontSize="21.3333333333333"><Run FontWeight="Bold" xml:lang="ru-ru">Лифт:</Run></Paragraph><Paragraph Margin="0,0,0,10.67" FontFamily="Calibri" FontSize="16"><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">Это как раз задача на бфс. Строите граф, где вершинами будут этажи. Ребро между двумя вершинами будет существовать, если лифт может попасть с вершины, соответствующей одному этажу на вершину, соответствующую другому этажу. При этом учтите, что граф ориентирован! Можете здесь воспользоваться либо матрицей смежности, либо списком смежности для задания графа, так как вершин (этажей) не так уж и много. </Span></Paragraph><Paragraph Margin="0,0,0,10.67" FontFamily="Calibri" FontSize="16"><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">Ну и, запустив обычный бфс, он вам нашел кратчайшие пути до всех вершин, в которые мы можем попасть из данной, и просто пробегаетесь теперь по всем вершинам (то есть по массиву расстояний, помните ведь, что это такое?), и выбираете из них максимальные. При этом максимальных может быть несколько, учтите это. Как выбрать максимальные – уж придумаете, как </Span></Paragraph><Paragraph Margin="0,0,0,10.67" FontFamily="Calibri" FontSize="16" /><Paragraph Margin="0,0,0,10.67" FontFamily="Calibri" FontSize="21.3333333333333"><Run FontWeight="Bold" xml:lang="ru-ru">Начальник А.И.</Run></Paragraph><Paragraph Margin="0,0,0,10.67" FontFamily="Calibri" FontSize="16"><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">Здесь как раз работает бинарный поиск по ответу. Ведите бин.поиск по ответу от 1 до (10^9)+1 (специально взял правую границу на 1 больше , чтобы точно нашелся ответ (так как </Span><Span Foreground="#FF000000" xml:lang="en-us">a</Span><Span Foreground="#FF000000" xml:lang="en-us" Typography.Variants="Subscript">i</Span><Span Foreground="#FF000000" xml:lang="ru-ru" Typography.Variants="Subscript" xml:space="preserve"> </Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">по условию до 10^9 включительно, а </Span><Span Foreground="#FF000000" xml:lang="en-us">x</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve"> и </Span><Span Foreground="#FF000000" xml:lang="en-us">y</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve"> минимум 1). Окей, теперь пусть у нас в бинпоиске сейчас ответ </Span><Span Foreground="#FF000000" xml:lang="en-us">m</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">. Как нам проверить, верный он или нет? Вычтем из каждого </Span><Span Foreground="#FF000000" xml:lang="en-us">a</Span><Span Foreground="#FF000000" xml:lang="en-us" Typography.Variants="Subscript">i</Span><Span Foreground="#FF000000" xml:lang="ru-ru" Typography.Variants="Subscript" xml:space="preserve"> </Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">по </Span><Span Foreground="#FF000000" xml:lang="en-us">y</Span><Span Foreground="#FF000000" xml:lang="ru-ru">*</Span><Span Foreground="#FF000000" xml:lang="en-us">m</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">. Зачем мы это делаем? Потому что если начальник крикнет </Span><Span Foreground="#FF000000" xml:lang="en-us">m</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve"> раз, то производительность каждого увеличится хотя бы на </Span><Span Foreground="#FF000000" xml:lang="en-us">y</Span><Span Foreground="#FF000000" xml:lang="ru-ru">*</Span><Span Foreground="#FF000000" xml:lang="en-us">m</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">. Отлично, теперь если </Span><Span Foreground="#FF000000" xml:lang="en-us">a</Span><Span Foreground="#FF000000" xml:lang="en-us" Typography.Variants="Subscript">i</Span><Span Foreground="#FF000000" xml:lang="ru-ru" Typography.Variants="Subscript" xml:space="preserve"> </Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">- </Span><Span Foreground="#FF000000" xml:lang="en-us">y</Span><Span Foreground="#FF000000" xml:lang="ru-ru">*</Span><Span Foreground="#FF000000" xml:lang="en-us">m</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve"> &lt;= 0, то все хорошо, это означает, что на </Span><Span Foreground="#FF000000" xml:lang="en-us">i</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">-го сотрудника лично мы можем не кричать, на него подействовали крики на других сотрудников. Если </Span><Span Foreground="#FF000000" xml:lang="en-us">a</Span><Span Foreground="#FF000000" xml:lang="en-us" Typography.Variants="Subscript">i</Span><Span Foreground="#FF000000" xml:lang="ru-ru" Typography.Variants="Subscript" xml:space="preserve"> </Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">- </Span><Span Foreground="#FF000000" xml:lang="en-us">y</Span><Span Foreground="#FF000000" xml:lang="ru-ru">*</Span><Span Foreground="#FF000000" xml:lang="en-us">m</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve"> &gt; 0, то это значит, что на </Span><Span Foreground="#FF000000" xml:lang="en-us">i</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">-го сотрудника неличных криков не хватило. Значит на него нужно лично накричать. Посчитаем для каждого сотрудника, на которого неличных криков не хватило, количество раз, сколько раз (назовем это количество раз для </Span><Span Foreground="#FF000000" xml:lang="en-us">i</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">-го сотрудника – </Span><Span Foreground="#FF000000" xml:lang="en-us">c</Span><Span Foreground="#FF000000" xml:lang="en-us" Typography.Variants="Subscript">i</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">) на него нужно лично накричать. Как мы это сделаем? Пусть </Span><Span Foreground="#FF000000" xml:lang="en-us">t</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve"> = </Span><Span Foreground="#FF000000" xml:lang="en-us">a</Span><Span Foreground="#FF000000" xml:lang="en-us" Typography.Variants="Subscript">i</Span><Span Foreground="#FF000000" xml:lang="ru-ru" Typography.Variants="Subscript" xml:space="preserve"> </Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">- </Span><Span Foreground="#FF000000" xml:lang="en-us">y</Span><Span Foreground="#FF000000" xml:lang="ru-ru">*</Span><Span Foreground="#FF000000" xml:lang="en-us">m</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">, знаем, что </Span><Span Foreground="#FF000000" xml:lang="en-us">t</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve"> &gt; 0. Тогда </Span><Span Foreground="#FF000000" xml:lang="en-us">c</Span><Span Foreground="#FF000000" xml:lang="en-us" Typography.Variants="Subscript">i</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve"> = </Span><Span Foreground="#FF000000" xml:lang="en-us">t</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve"> / (</Span><Span Foreground="#FF000000" xml:lang="en-us">x</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve"> – </Span><Span Foreground="#FF000000" xml:lang="en-us">y</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">). (целочисленное деление). И если </Span><Span Foreground="#FF000000" xml:lang="en-us">t</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve"> % (</Span><Span Foreground="#FF000000" xml:lang="en-us">x</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve"> – </Span><Span Foreground="#FF000000" xml:lang="en-us">y</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">) != 0, то </Span><Span Foreground="#FF000000" xml:lang="en-us">c</Span><Span Foreground="#FF000000" xml:lang="en-us" Typography.Variants="Subscript">i</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve"> += 1. Тогда сложим для каждого такого сотрудника </Span><Span Foreground="#FF000000" xml:lang="en-us">c</Span><Span Foreground="#FF000000" xml:lang="en-us" Typography.Variants="Subscript">i</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">. Если сумма этих </Span><Span Foreground="#FF000000" xml:lang="en-us">c</Span><Span Foreground="#FF000000" xml:lang="en-us" Typography.Variants="Subscript">i</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve"> будет больше, чем </Span><Span Foreground="#FF000000" xml:lang="en-us">m</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">, то значит, что данный ответ нам не подходит, и нужно увеличивать </Span><Span Foreground="#FF000000" xml:lang="en-us">m</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve"> (то есть передвигаем левую границу в бинпоиске на </Span><Span Foreground="#FF000000" xml:lang="en-us">m</Span><Span Foreground="#FF000000" xml:lang="ru-ru" xml:space="preserve">). Если ответ подходит, то передвигаем правую границу в бинпоиске на </Span><Span Foreground="#FF000000" xml:lang="en-us">m</Span><Span Foreground="#FF000000" xml:lang="ru-ru">. Тогда после выполнения этого бинпоиска ответ будет лежать в правой границе. Вот и все, реализуйте аккуратно)</Span></Paragraph><Paragraph Margin="0,0,0,10.67" FontFamily="Calibri" FontSize="16" /><Paragraph Margin="0,0,0,10.67" FontFamily="Calibri" FontSize="21.3333333333333"><Run FontWeight="Bold" xml:lang="ru-ru">Фотограф на танцах:</Run></Paragraph><Paragraph Margin="0,0,0,10.67" FontFamily="Calibri" FontSize="16"><Span Foreground="#FF000000" xml:lang="ru-ru">Я не очень понял условие этой задачи, так что как будет время, подумаю еще.</Span></Paragraph></FlowDocument>
<!---!---!>
<FlowDocument PagePadding="5,0,5,0" AllowDrop="True" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"><Paragraph><Run xml:lang="ru-ru">Новая задача</Run></Paragraph></FlowDocument>
